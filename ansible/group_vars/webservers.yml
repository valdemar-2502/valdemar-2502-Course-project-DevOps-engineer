---
# Nginx configuration
nginx_sites:
  default:
    listen: "80"
    server_name: "_"
    root: "/var/www/html"
    index: "index.html"
    access_log: "/var/log/nginx/access.log"
    error_log: "/var/log/nginx/error.log"

# Static website files
website_files:
  - src: "index.html"
    dest: "/var/www/html/index.html"
  - src: "style.css"
    dest: "/var/www/html/style.css"

# Node Exporter settings
node_exporter_enabled: true
node_exporter_collectors:
  - cpu
  - meminfo
  - diskstats
  - netdev
  - filesystem
  - loadavg
  - stat
  - time
  - systemd

# Nginx Log Exporter settings
nginx_log_exporter_format: '$remote_addr - $remote_user [$time_local] "$request" $status $body_bytes_sent "$http_referer" "$http_user_agent"'
nginx_log_exporter_namespace: "nginx"
nginx_log_exporter_metrics:
  - name: "http_response_count_total"
    type: "counter"
    help: "Total number of HTTP responses"
    match:
      status: ".*"
  - name: "http_response_size_bytes"
    type: "histogram"
    help: "HTTP response size in bytes"
    match:
      body_bytes_sent: ".*"

# Filebeat settings
filebeat_logs:
  - paths:
      - "/var/log/nginx/access.log"
    fields:
      log_type: "nginx_access"
  - paths:
      - "/var/log/nginx/error.log"
    fields:
      log_type: "nginx_error"
